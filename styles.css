:root{--bg:#0b0f14;--panel:#121826;--card:#0f1522;--text:#e5e7eb;--muted:#9aa4b2;--primary:#3b82f6;--border:#1f2937;--success:#10b981;--danger:#ef4444}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
.app{display:grid;grid-template-columns:280px 1fr;height:100%}
.sidebar{border-right:1px solid var(--border);padding:20px;background:var(--panel);display:flex;flex-direction:column;gap:20px}
.brand{font-weight:700;font-size:20px}
.button{appearance:none;border:1px solid var(--border);background:transparent;color:var(--text);padding:10px 14px;border-radius:10px;cursor:pointer;transition:.2s ease}
.button:hover{border-color:#2b3748}
.button.primary{background:var(--primary);border-color:var(--primary);color:#fff}
.button.outline{background:transparent;border-color:var(--primary);color:var(--primary)}
.section{display:flex;flex-direction:column;gap:12px}
.section-title{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.06em}
.agent-item{display:flex;gap:12px;padding:10px;border:1px solid var(--border);border-radius:10px;align-items:center}
.agent-item.active{background:rgba(59,130,246,.1);border-color:rgba(59,130,246,.3)}
.agent-avatar{font-size:20px}
.agent-name{font-weight:600}
.agent-sub{font-size:12px;color:var(--muted)}
.projects{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.project-item{padding:8px 10px;border:1px solid var(--border);border-radius:8px}
.content{display:flex;flex-direction:column;height:100%}
.topbar{display:flex;justify-content:flex-end;align-items:center;padding:14px 20px;border-bottom:1px solid var(--border);background:var(--panel)}
.search input{width:360px;max-width:40vw;background:var(--card);border:1px solid var(--border);border-radius:10px;color:var(--text);padding:10px}
.top-actions{display:flex;gap:10px;align-items:center}
.user{display:flex;gap:10px;align-items:center}
.user-badge{font-size:12px;color:var(--muted);background:var(--card);border:1px solid var(--border);border-radius:999px;padding:6px 10px;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.user .button{padding:6px 10px;font-size:12px}
.card{padding:20px}
.message{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;display:flex;flex-direction:column;gap:14px}
.message-header{display:flex;gap:12px;align-items:center}
.message-avatar{font-size:20px}
.message-title{font-weight:600}
.message-time{font-size:12px;color:var(--muted)}
.message-actions{display:flex;gap:8px}
.panel{margin:0 20px 20px;background:var(--panel);border:1px solid var(--border);border-radius:14px}
.panel-title{padding:16px 16px 0;font-weight:600}
.panel form{padding:16px;display:flex;flex-direction:column;gap:16px}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
label{display:flex;flex-direction:column;gap:8px}
input,select{background:var(--card);border:1px solid var(--border);border-radius:10px;color:var(--text);padding:10px}
.agents{display:flex;gap:10px;flex-wrap:wrap}
.agents .chip{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:var(--card);cursor:pointer;user-select:none}
.agents .chip input{appearance:none;width:16px;height:16px;border:1px solid var(--border);border-radius:4px;background:transparent;position:relative}
.agents .chip input:checked{background:var(--primary);border-color:var(--primary)}
.agents .chip input:checked::after{content:"";position:absolute;left:4px;top:1px;width:6px;height:10px;border:2px solid #fff;border-top:0;border-left:0;transform:rotate(45deg)}
.agents .chip span{font-size:12px}
.agents .chip:has(input:checked){border-color:rgba(59,130,246,.5);background:rgba(59,130,246,.12)}
.actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
.login-card form + form{margin-top:12px}
.result{background:#0a0f18;border-top:1px solid var(--border);margin:0;padding:16px;border-radius:0 0 14px 14px;max-height:40vh;overflow:auto}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center}
.modal[hidden]{display:none}
.modal-body{width:520px;max-width:90vw;background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:16px;display:flex;flex-direction:column;gap:12px}
.modal-title{font-weight:600}
.modal-sub{font-size:12px;color:var(--muted);padding-left:2px}
.overlay{position:fixed;inset:0;background:rgba(9,12,18,.7);display:flex;align-items:center;justify-content:center}
.overlay[hidden]{display:none}
.spinner{width:36px;height:36px;border-radius:50%;border:3px solid rgba(255,255,255,.15);border-top-color:#fff;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(1turn)}}
.toasts{position:fixed;bottom:16px;right:16px;display:flex;flex-direction:column;gap:8px}
.toast{min-width:240px;background:var(--panel);border:1px solid var(--border);color:var(--text);padding:10px 12px;border-radius:10px}
.toast.success{border-color:rgba(16,185,129,.5)}
.toast.error{border-color:rgba(239,68,68,.5)}
.login-view{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:var(--bg)}
.login-view[hidden]{display:none}
.login-card{width:520px;max-width:95vw;background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:16px;display:flex;flex-direction:column;gap:12px}
.login-title{font-weight:600}
.tabs{display:flex;gap:8px;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:6px}
.tab{flex:1;appearance:none;background:transparent;border:0;color:var(--text);padding:8px 10px;border-radius:8px;cursor:pointer}
.tab.active{background:linear-gradient(90deg,#5b21b6,#3b82f6);color:#fff}
.pane{transition:opacity .25s ease, transform .25s ease}
.pane.pane-hidden{opacity:.0;transform:translateY(6px);pointer-events:none;height:0;margin:0;padding:0;border:0}
.login-links{display:flex;justify-content:flex-start}
.login-links a{font-size:12px;color:var(--primary);text-decoration:none}
.login-switch{font-size:12px;color:var(--muted)}
.login-switch a{color:var(--primary);text-decoration:none}
.chat{display:flex;flex-direction:column;gap:12px;padding:20px}
.chat-log{display:flex;flex-direction:column;gap:10px;max-height:40vh;overflow:auto;background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:12px}
.bubble{max-width:70%;padding:10px 12px;border-radius:12px;border:1px solid var(--border)}
.bubble.user{align-self:flex-end;background:#1a2232}
.bubble.assistant{align-self:flex-start;background:#121826}
.bubble .bubble-meta{font-size:11px;color:var(--muted);margin-bottom:6px}
.bubble .bubble-content{white-space:pre-wrap}
.bubble-actions{display:flex;gap:8px;margin-top:8px}
.bubble a.download{display:inline-block;margin-top:8px;color:#fff;background:var(--primary);border-radius:8px;padding:6px 10px;text-decoration:none}
.composer{display:flex;flex-direction:column;gap:10px;background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:12px;position:sticky;bottom:0}
.composer-row{display:grid;grid-template-columns:2fr 1fr 1fr;gap:10px}
.composer input#chatTaskInput{width:100%}
.composer-actions{display:flex;gap:10px;justify-content:flex-end}
